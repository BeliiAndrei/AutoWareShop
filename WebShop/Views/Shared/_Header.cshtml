@{
    var role = SessionHelper.User?.Role ?? string.Empty;
    var isAdmin = role == "Admin" ? true : false;
    var isBanned = role == "Banned" ? true : false;
    var name = SessionHelper.User?.UserName ?? string.Empty;
    int basketCount = SessionHelper.ProductsInCartCount;
}

<header class="header">
    <div class="header-top-area">
        <div class="container-fluid">
            <div class="header-top-area-main">
                <button class="navigation-trigger js-dropdown-toggle d-md-none">
                    <svg class="icon icon-menu-dots navigation-trigger__icon">
                        <use href="~/assets/images/svg/symbol/sprite.svg#menu-dots"></use>
                    </svg>
                </button>
                <div class="header__informers d-none d-md-flex">
                    <div class="header__informer">Вулканешты, ул. Ленина №103 <br> Biblioteca publică oraşenească "A.S.Puşkin" or. Vulcăneşti </div>
                    <div class="header__informer">График работы: <br> 9.00 - 17.00 понедельник - суббота</div>
                </div>
                @if (isBanned)
                {
                    <div class="alert alert-danger" role="alert" style="color:red">
                        Ваш аккаунт заблокирован! Обратитесь к администратору для разблокировки.
                    </div>
                }
                <div class="tiny-contacts">
                    <a class="tiny-contacts__wrap" href="tel:029393207">
                        <svg class="icon icon-phone-call tiny-contacts__icon">
                            <use href="~/assets/images/svg/symbol/sprite.svg#phone-call"></use>
                        </svg><span class="tiny-contacts__phone">029393207</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="header-main">
        <div class="container-fluid">
            <div class="header-main__body">
                <div class="logo">
                    <a href="@Url.Action("MainPage", "Home")" class="logo__wrap">
                        <div class="logo__text" style="background: linear-gradient(135deg, #2c3e50, #3498db); color: white; padding: 10px 20px; border-radius: 8px; font-weight: bold; font-size: 18px;">Biblioteca </div>
                    </a>
                </div>
                <nav class="section-nav d-none d-md-block">
                    <ul class="section-nav__list">
                        @if (isAdmin)
                        {
                            <li class="section-nav__item"><a class="section-nav__link" href="@Url.Action("Clients", "Admin")"><span class="section-nav__text">⚙️ Админ Панель</span></a></li>
                        }

                        <li class="section-nav__item"><a class="section-nav__link" href="@Url.Action("ViewNews", "Informational")"><span class="section-nav__text">📰 Новости</span></a></li>
                        <li class="section-nav__item"><a class="section-nav__link" href="@Url.Action("ReserveBook", "Informational")"><span class="section-nav__text">📌 Забронировать книгу</span></a></li>
                        <li class="section-nav__item"><a class="section-nav__link" href="@Url.Action("Catalog", "CatalogSearch")"><span class="section-nav__text">📖 Каталог</span></a></li>
                        <li class="section-nav__item"><a class="section-nav__link" href="@Url.Action("StudyRooms", "OtherServices")"><span class="section-nav__text">🏛️ Читальные залы</span></a></li>
                        <li class="section-nav__item"><a class="section-nav__link" href="@Url.Action("ProfileUser", "Profile")"><span class="section-nav__text">👤 Профиль</span></a></li>
                    </ul>
                </nav>
                @if (SessionHelper.User == null)
                {
                    <div class="authorize">
                        <ul class="authorize__list">
                            <li class="authorize__item">
                                <a class="authorize__link authorize__link--login" href="@Url.Action("Authorisation", "Auth")" );">
                                    <svg class="icon icon-login authorize__icon">
                                        <use href="~/assets/images/svg/symbol/sprite.svg#login"></use>
                                    </svg> Вход
                                </a>
                            </li>
                            <li class="authorize__item"><a class="authorize__link authorize__link--register" href="@Url.Action("Registration", "Auth")" );">Регистрация</a></li>
                        </ul>

                        <div class="authorize__dropdown">
                            <div class="authorize__dropdown-body">
                                @if (SessionHelper.User == null)
                                {
                                    @Html.ValidationSummary(true)
                                    using (Html.BeginForm("TryToLogIn", "Auth", FormMethod.Post, new { @id = "LoginForm", @class = "auth-form" }))
                                    {
                                        @Html.AntiForgeryToken()
                                        <div class="auth-form__field">
                                            <input class="auth-form__input" type="email" name="Email" placeholder="E-mail">
                                        </div>
                                        <div class="auth-form__field">
                                            <input class="auth-form__input" type="password" name="Password" placeholder="Пароль">
                                        </div>
                                        <div class="auth-form__field">
                                            <input class="auth-form__btn btn btn--main" name="send-data" type="submit" value="Войти" style="background: linear-gradient(135deg, #2980b9, #3498db);">
                                        </div>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <a class="auth-form__btn btn btn--main" name="log-out" href="@Url.Action("LogOut", "Auth")" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                        <div class="logged-in__username">@name</div>
                        Выйти
                    </a>
                }
            </div>
        </div>
    </div>
    
</header>