@{
    ViewBag.Title = "Каталог книг";
}

@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.css" />
    <style>
        .book-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border: 2px solid #f8f9fa;
            transition: all 0.3s ease;
            height: 100%;
            position: relative;
        }

            .book-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 30px rgba(0,0,0,0.15);
                border-color: #3498db;
            }

        .book-cover {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            margin-bottom: 15px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa; /* Фон на случай если картинка не загрузится */
        }

        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .book-card:hover .book-cover img {
            transform: scale(1.05);
        }
        

        .cover-fiction {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .cover-sci-fi {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .cover-classic {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
        }

        .cover-detective {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
        }

        .cover-romance {
            background: linear-gradient(135deg, #fa709a, #fee140);
        }

        .cover-history {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
        }

        .book-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .book-author {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 10px;
            font-style: italic;
        }

        .book-description {
            color: #5d6d7e;
            font-size: 0.85rem;
            line-height: 1.4;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .book-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .book-genre {
            background: #e3f2fd;
            color: #1976d2;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: 500;
        }

        .book-year {
            color: #95a5a6;
        }

        .book-availability {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
            font-size: 0.85rem;
        }

        .available {
            color: #27ae60;
            font-weight: 500;
        }

        .unavailable {
            color: #e74c3c;
            font-weight: 500;
        }

        .book-actions {
            display: flex;
            gap: 10px;
        }

        .btn-borrow {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            flex: 1;
            text-align: center;
            transition: all 0.3s ease;
        }

            .btn-borrow:hover {
                background: linear-gradient(135deg, #2980b9, #21618c);
                color: white;
                text-decoration: none;
            }

        .btn-details {
            background: #ecf0f1;
            color: #5d6d7e;
            padding: 8px 15px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            flex: 1;
            text-align: center;
            transition: all 0.3s ease;
        }

            .btn-details:hover {
                background: #bdc3c7;
                color: white;
                text-decoration: none;
            }

        .book-sticker {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: bold;
            z-index: 2;
        }

        .new-arrival {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .popular {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .welcome-banner {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .welcome-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .filter-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
        }

        .filter-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .books-count {
            text-align: center;
            color: #7f8c8d;
            margin: 20px 0;
            font-size: 1rem;
        }
    </style>
}

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.js"></script>
    <script>
        // Инициализация слайдера для года издания
        const yearSlider = document.getElementById("year-slider");
        const minYearOutput = document.getElementById("year-min");
        const maxYearOutput = document.getElementById("year-max");

        noUiSlider.create(yearSlider, {
            start: [1950, 2024],
            connect: true,
            step: 1,
            range: {
                min: 1950,
                max: 2024
            }
        });

        yearSlider.noUiSlider.on("update", (values) => {
            minYearOutput.textContent = Math.round(values[0]);
            maxYearOutput.textContent = Math.round(values[1]);
        });

        // Обработка фильтров
        document.getElementById("apply-filters").addEventListener("click", function (e) {
            e.preventDefault();
            const [minYear, maxYear] = yearSlider.noUiSlider.get();
            const onlyAvailable = document.getElementById("only-available").checked;

            // Здесь можно добавить логику фильтрации
            alert(`Применены фильтры:\nГод: ${Math.round(minYear)}-${Math.round(maxYear)}\nТолько доступные: ${onlyAvailable}`);
        });
    </script>
}

<div class="container-fluid">
    <div class="primary-layout">
        <!-- Приветственный баннер -->
        <div class="welcome-banner">
            <h1 class="welcome-title">📚 Каталог книг</h1>
            <p class="welcome-subtitle">Откройте для себя мир литературы в нашей библиотеке</p>
        </div>

        <div class="books-count">
            🔍 В каталоге представлено 24 книги
        </div>

        <div class="primary-content">
            <!-- Боковая панель с фильтрами -->
            <div class="sidebar">
                <div class="filter">
                    <form id="filters-form" method="get">
                        <div class="filter__main">
                            <!-- Год издания -->
                            <div class="filter__section">
                                <div class="filter__title">📅 Год издания</div>
                                <div class="filter__body">
                                    <div class="price-range">
                                        <div id="year-slider"></div>
                                        <div class="slider-values">
                                            <span id="year-min">1950</span> — <span id="year-max">2024</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Наличие -->
                            <div class="filter__section">
                                <div class="filter__title">📋 Наличие</div>
                                <div class="filter__body">
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="only-available">
                                        <label class="checkbox-label__main" for="only-available">Только доступные для выдачи</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Жанры -->
                            <div class="filter__section">
                                <div class="filter__title">🏷️ Жанры</div>
                                <div class="filter__body">
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="genre-fiction" checked>
                                        <label class="checkbox-label__main" for="genre-fiction">Художественная литература</label>
                                    </div>
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="genre-scifi">
                                        <label class="checkbox-label__main" for="genre-scifi">Научная фантастика</label>
                                    </div>
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="genre-classic" checked>
                                        <label class="checkbox-label__main" for="genre-classic">Классика</label>
                                    </div>
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="genre-detective">
                                        <label class="checkbox-label__main" for="genre-detective">Детективы</label>
                                    </div>
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="genre-romance">
                                        <label class="checkbox-label__main" for="genre-romance">Романы</label>
                                    </div>
                                    <div class="filter__option checkbox-label">
                                        <input class="checkbox-label__input" type="checkbox" id="genre-history">
                                        <label class="checkbox-label__main" for="genre-history">Исторические</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Кнопки фильтров -->
                            <div class="filter__footer">
                                <div class="filter__btns">
                                    <button type="submit" class="filter__btn-accept btn btn--main" id="apply-filters">Применить фильтры</button>
                                    <button type="reset" class="filter__btn-reset btn btn--ghost" id="reset-filters">
                                        Сбросить
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Основной контент - каталог книг -->
            <main class="main-content">
                <div class="catalog-main">
                    <div class="row">
                        <!-- Книга 1 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-sticker new-arrival">Новинка</div>
                                <div class="book-cover"> <img src="~/assets/images/content/books/master-i-margarita.jpg" alt="Мастер и Маргарита"></div>
                                <h3 class="book-title">Мастер и Маргарита</h3>
                                <div class="book-author">Михаил Булгаков</div>
                                <div class="book-description">
                                    Мистический роман о дьяволе, посетившем Москву 1930-х годов, и истории любви мастера и Маргариты.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Классика</span>
                                    <span class="book-year">1967</span>
                                </div>
                                <div class="book-availability">
                                    <span class="available">✅ Доступна</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#">Взять книгу</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 2 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-sticker popular">Популярная</div>
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/1984.jpg" alt="1984">
                                </div>                                <h3 class="book-title">1984</h3>
                                <div class="book-author">Джордж Оруэлл</div>
                                <div class="book-description">
                                    Антиутопия о тоталитарном обществе, где правительство контролирует каждую мысль и действие граждан.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Антиутопия</span>
                                    <span class="book-year">1949</span>
                                </div>
                                <div class="book-availability">
                                    <span class="available">✅ Доступна</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#">Взять книгу</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 3 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/voyna-i-mir.jpg" alt="Война и мир">
                                </div>                                <h3 class="book-title">Война и мир</h3>
                                <div class="book-author">Лев Толстой</div>
                                <div class="book-description">
                                    Эпический роман о жизни русского общества во время наполеоновских войн. Классика мировой литературы.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Классика</span>
                                    <span class="book-year">1869</span>
                                </div>
                                <div class="book-availability">
                                    <span class="unavailable">❌ На руках</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#" style="background: #95a5a6;">Недоступна</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 4 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/sherlock-holmes.jpg" alt="Шерлок Холмс">
                                </div>                                <h3 class="book-title">Шерлок Холмс</h3>
                                <div class="book-author">Артур Конан Дойл</div>
                                <div class="book-description">
                                    Сборник детективных рассказов о гениальном сыщике Шерлоке Холмсе и его верном друге докторе Ватсоне.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Детектив</span>
                                    <span class="book-year">1892</span>
                                </div>
                                <div class="book-availability">
                                    <span class="available">✅ Доступна</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#">Взять книгу</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 5 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-sticker new-arrival">Новинка</div>
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/pride-and-prejudice.jpg" alt="Гордость и предубеждение">
                                </div>                                <h3 class="book-title">Гордость и предубеждение</h3>
                                <div class="book-author">Джейн Остин</div>
                                <div class="book-description">
                                    Роман о любви и социальных условностях в Англии начала XIX века. История Элизабет Беннет и мистера Дарси.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Роман</span>
                                    <span class="book-year">1813</span>
                                </div>
                                <div class="book-availability">
                                    <span class="available">✅ Доступна</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#">Взять книгу</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 6 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/tri-mushketera.jpg" alt="Три мушкетера">
                                </div>                                <h3 class="book-title">Три мушкетера</h3>
                                <div class="book-author">Александр Дюма</div>
                                <div class="book-description">
                                    Приключенческий роман о дружбе и подвигах мушкетеров во Франции XVII века. "Один за всех, и все за одного!"
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Приключения</span>
                                    <span class="book-year">1844</span>
                                </div>
                                <div class="book-availability">
                                    <span class="available">✅ Доступна</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#">Взять книгу</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 7 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-sticker popular">Популярная</div>
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/prestuplenie-i-nakazanie.jpg" alt="Преступление и наказание">
                                </div>                                <h3 class="book-title">Преступление и наказание</h3>
                                <div class="book-author">Федор Достоевский</div>
                                <div class="book-description">
                                    Психологический роман о студенте Раскольникове, совершившем убийство и переживающем муки совести.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Классика</span>
                                    <span class="book-year">1866</span>
                                </div>
                                <div class="book-availability">
                                    <span class="unavailable">❌ На руках</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#" style="background: #95a5a6;">Недоступна</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>

                        <!-- Книга 8 -->
                        <div class="col-6 col-sm-4 col-lg-3">
                            <article class="book-card">
                                <div class="book-cover">
                                    <img src="~/assets/images/content/books/brave-new-world.jpg" alt="О дивный новый мир">
                                </div>                                <h3 class="book-title">О дивный новый мир</h3>
                                <div class="book-author">Олдос Хаксли</div>
                                <div class="book-description">
                                    Антиутопия о будущем обществе, где люди выращиваются искусственно и разделены на касты.
                                </div>
                                <div class="book-meta">
                                    <span class="book-genre">Антиутопия</span>
                                    <span class="book-year">1932</span>
                                </div>
                                <div class="book-availability">
                                    <span class="available">✅ Доступна</span>
                                </div>
                                <div class="book-actions">
                                    <a class="btn-borrow" href="#">Взять книгу</a>
                                    <a class="btn-details" href="#">Подробнее</a>
                                </div>
                            </article>
                        </div>
                    </div>
                </div>

                <!-- Пагинация -->
                <div class="pagination-wrap">
                    <div class="pagination">
                        <a class="pagination__prev" href="#">
                            <svg class="icon icon-arrow-left pagination__icon">
                                <use href="~/assets/images/svg/symbol/sprite.svg#arrow-left"></use>
                            </svg>
                        </a>
                        <ul class="pagination__list">
                            <li class="pagination__item"><a class="pagination__link active" href="#">1</a></li>
                            <li class="pagination__item"><a class="pagination__link" href="#">2</a></li>
                            <li class="pagination__item"><a class="pagination__link" href="#">3</a></li>
                            <li class="pagination__item">&hellip;</li>
                            <li class="pagination__item"><a class="pagination__link" href="#">8</a></li>
                        </ul>
                        <a class="pagination__next" href="#">
                            <svg class="icon icon-arrow-right pagination__icon">
                                <use href="~/assets/images/svg/symbol/sprite.svg#arrow-right"></use>
                            </svg>
                        </a>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>